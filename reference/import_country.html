<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Download integrated rounds separately for countries from the European Social
Survey — import_country • essurvey</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Download integrated rounds separately for countries from the European Social
Survey — import_country"><meta property="og:description" content="Download integrated rounds separately for countries from the European Social
Survey"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">essurvey</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/intro_ess.html">Introduction to the essurvey package</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ropensci/essurvey/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Download integrated rounds separately for countries from the European Social
Survey</h1>
    <small class="dont-index">Source: <a href="https://github.com/ropensci/essurvey/blob/HEAD/R/import_countries.R" class="external-link"><code>R/import_countries.R</code></a></small>
    <div class="hidden name"><code>import_country.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Download integrated rounds separately for countries from the European Social
Survey</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">import_country</span><span class="op">(</span><span class="va">country</span>, <span class="va">rounds</span>, ess_email <span class="op">=</span> <span class="cn">NULL</span>, format <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>

<span class="fu">import_all_cntrounds</span><span class="op">(</span><span class="va">country</span>, ess_email <span class="op">=</span> <span class="cn">NULL</span>, format <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>

<span class="fu">download_country</span><span class="op">(</span>
  <span class="va">country</span>,
  <span class="va">rounds</span>,
  ess_email <span class="op">=</span> <span class="cn">NULL</span>,
  output_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,
  format <span class="op">=</span> <span class="st">"stata"</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>country</dt>
<dd><p>a character of length 1 with the full name of the country. 
Use <code><a href="show_countries.html">show_countries</a></code> for a list of available countries.</p></dd>
<dt>rounds</dt>
<dd><p>a numeric vector with the rounds to download. See <code><a href="show_rounds.html">show_rounds</a></code>
for all available rounds.</p></dd>
<dt>ess_email</dt>
<dd><p>a character vector with your email, such as "your_email@email.com".
If you haven't registered in the ESS website, create an account at 
<a href="http://www.europeansocialsurvey.org/user/new" class="external-link">http://www.europeansocialsurvey.org/user/new</a>. A preferred method is to login
through <code><a href="set_email.html">set_email</a></code>.</p></dd>
<dt>format</dt>
<dd><p>the format from which to download the data. By default it is NULL for <code>import_*</code> functions and tries to read 'stata', 'spss' and 'sas' in the specific order. This can be useful if some countries don't have a particular format available.  Alternatively, the user can specify the format which can either be 'stata', 'spss' or 'sas'. For the <code>download_*</code> functions it is set to 'stata' because the format should be specified before the downloading. When using <code>import_country</code> the data will be downloaded and read in the <code>format</code> specified. For <code>download_country</code>, the data is downloaded from the specified <code>format</code> (only 'spss' and 'stata' supported, see details).</p></dd>
<dt>output_dir</dt>
<dd><p>a character vector with the output directory in case you want to
only download the files using <code>download_country</code>. Defaults to your working
directory. This will be interpreted as a <strong>directory</strong> and not a path with
a file name.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>for <code>import_country</code> if <code>length(rounds)</code> is 1, it returns a tibble
with the latest version of that round. Otherwise it returns a list of <code>length(rounds)</code>containing the latest version of each round. For <code>download_country</code>, if 
<code>output_dir</code> is a valid directory, it returns the saved directories invisibly
and saves all the rounds in the chosen <code>format</code> in <code>output_dir</code></p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Use <code>import_country</code> to download specified rounds for a given country and
import them to R.
<code>import_all_cntrounds</code> will download all rounds for a given country by default
and <code>download_country</code> will download rounds and save them in a specified
<code>format</code> in the supplied directory.</p>
<p>The <code>format</code> argument from <code>import_country</code> should not matter to the user
because the data is read into R either way. However, different formats might have
different handling of the encoding of some questions. This option was preserved
so that the user
can switch between formats if any encoding errors are found in the data. For more
details see the discussion <a href="https://github.com/ropensci/essurvey/issues/11" class="external-link">here</a>.
For this particular argument, 'sas' is not supported because the data formats have
changed between ESS waves and separate formats require different functions to be
read. To preserve parsimony and format errors between waves, the user should use
'spss' or 'stata'.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="set_email.html">set_email</a></span><span class="op">(</span><span class="st">"your_email@email.com"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Get first three rounds for Denmark</span></span>
<span class="r-in"><span class="va">dk_three</span> <span class="op">&lt;-</span> <span class="fu">import_country</span><span class="op">(</span><span class="st">"Denmark"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Only download the files, this will return nothing</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">temp_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">download_country</span><span class="op">(</span></span>
<span class="r-in"> <span class="st">"Turkey"</span>,</span>
<span class="r-in"> rounds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span class="r-in"> output_dir <span class="op">=</span> <span class="va">temp_dir</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># By default, download_country downloads 'stata' files but</span></span>
<span class="r-in"><span class="co"># you can also download 'spss' or 'sas' files.</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">download_country</span><span class="op">(</span></span>
<span class="r-in"> <span class="st">"Turkey"</span>,</span>
<span class="r-in"> rounds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span class="r-in"> output_dir <span class="op">=</span> <span class="va">temp_dir</span>,</span>
<span class="r-in"> format <span class="op">=</span> <span class="st">'spss'</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># If email is not registered at ESS website, error will arise</span></span>
<span class="r-in"><span class="va">uk_one</span> <span class="op">&lt;-</span> <span class="fu">import_country</span><span class="op">(</span><span class="st">"United Kingdom"</span>, <span class="fl">5</span>, <span class="st">"wrong_email@email.com"</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># Error in authenticate(ess_email) : </span></span>
<span class="r-in"><span class="co"># The email address you provided is not associated with any registered user.</span></span>
<span class="r-in"><span class="co"># Create an account at http://www.europeansocialsurvey.org/user/new</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># If selected rounds don't exist, error will arise</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">czech_two</span> <span class="op">&lt;-</span> <span class="fu">import_country</span><span class="op">(</span><span class="st">"Czech Republic"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">22</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Error in country_url(country, rounds) : </span></span>
<span class="r-in"><span class="co"># Only rounds ESS1, ESS2, ESS4, ESS5, ESS6, ESS7, ESS8 available</span></span>
<span class="r-in"><span class="co"># for Czech Republic</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jorge Cimentada.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

